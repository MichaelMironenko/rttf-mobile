include tournamentRow.pug
include /components/atoms/tournamentTypeBadge.pug

mixin tournamentRegCard(reg, isOpen, name)
    - let containerClasses = "pb-1 pt-3 bg-white rounded-lg z-1 shadow-md w-full max-w-sm mb-3" + (reg ? " border-2 border-lab-color px-3" : " px-[14px]")
    div(class=containerClasses)
        div.flex.items-center.cursor-pointer.gap-2.mb-2
            div.w-9.flex.justify-center.shrink-0
                +tournamentTypeBadge('XD')
            div.text-left.leading-5.grow.text-sm.text-lab-black.font-semibold= name
            img.w-6.z-1(src="img/expand-arrow.svg", class=(isOpen ? "rotate-180" : ""))
        if reg && !isOpen
            div.flex.items-center.gap-1.mb-1.ml-11
                img(src="img/checkmark.svg" class="w-4 h-4")
                span.text-xs.font-semibold.text-lab-color Вы участвуете в этом турнире
        if isOpen
            -
                let tournaments = [
                    { time: "10:00", gender: "male", type: "single", rating: "200", group: "A", players: "12", comments: "3", isReg: reg },
                    { time: "11:00", gender: "female", type: "single", rating: "350", group: "B", players: "15", comments: "4" },
                    { time: "12:00", gender: "mixed", type: "mixed", rating: "500", group: "C", players: "20", comments: "10" },
                    { time: "13:00", gender: "male", type: "double", rating: "600+", group: "D", players: "25", comments: "5" },
                    { time: "14:00", gender: "female", type: "double", rating: "400", group: "E+", players: "18", comments: "6" }
                ]

            each tournament in tournaments
                +tournamentRow(tournament.time, tournament.gender, tournament.type, tournament.rating, tournament.group, tournament.players, tournament.comments, tournament.isReg)